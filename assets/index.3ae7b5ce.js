import{d as C,u as h,o as M,a as N,b as S,c as I,e as r,f as O,s as T,g as R,n as b,h as B,w as x,i as L}from"./index.2d123da7.js";import{N as P}from"./Button.7f4eb986.js";import"./use-rtl.2132fefb.js";let G=()=>{let t=document.getElementById("strategy_left"),n=document.getElementById("gameRoot");n.className="gameMd",t.appendChild(n)},D=()=>{document.getElementById("gameRoot").className="gameLogin"},F={helloworld:G,hello:D},w=0;const W=(t,n)=>{var e=window._CCSettings;window._CCSettings=void 0;var a=null,c=cc.AssetManager.BuiltinBundleName.RESOURCES,l=cc.AssetManager.BuiltinBundleName.INTERNAL,o=cc.AssetManager.BuiltinBundleName.MAIN;function g(){var s=document.getElementById("splash"),i=s.querySelector(".progress-bar span");a=function(d,f){var m=100*d/f;i&&(i.style.width=m.toFixed(2)+"%")},cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(){s.style.display="none"})}var _=function(){window.GAME_FLAG=n,t&&t(),cc.view.enableRetina(!0),cc.view.resizeWithBrowserSize(!0),cc.sys.isBrowser&&g(),cc.sys.isMobile&&(e.orientation==="landscape"?cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE):e.orientation==="portrait"&&cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),cc.view.enableAutoFullScreen([cc.sys.BROWSER_TYPE_BAIDU,cc.sys.BROWSER_TYPE_BAIDU_APP,cc.sys.BROWSER_TYPE_WECHAT,cc.sys.BROWSER_TYPE_MOBILE_QQ,cc.sys.BROWSER_TYPE_MIUI,cc.sys.BROWSER_TYPE_HUAWEI,cc.sys.BROWSER_TYPE_UC].indexOf(cc.sys.browserType)<0)),cc.sys.isBrowser&&cc.sys.os===cc.sys.OS_ANDROID&&(cc.assetManager.downloader.maxConcurrency=2,cc.assetManager.downloader.maxRequestsPerFrame=2);var s=n||e.launchScene,i=cc.assetManager.bundles.find(function(d){return d.getSceneInfo(s)});i.loadScene(s,null,a,function(d,f){if(!d&&(cc.director.runSceneImmediate(f),cc.sys.isBrowser)){var m=document.getElementById("GameCanvas");m&&(m.style.visibility="");var v=document.getElementById("GameDiv");v&&(v.style.backgroundImage=""),console.log("Success to load scene: "+s)}})},A={id:"GameCanvas",debugMode:e.debug?cc.debug.DebugMode.INFO:cc.debug.DebugMode.ERROR,showFPS:e.debug,frameRate:60,groupList:e.groupList,collisionMatrix:e.collisionMatrix};cc.assetManager.init({bundleVers:e.bundleVers,remoteBundles:e.remoteBundles,server:e.server});var u=[l];e.hasResourcesBundle&&u.push(c);var y=0;function E(s){if(s)return console.error(s.message,s.stack);y++,y===u.length+1&&cc.assetManager.loadBundle(o,function(i){i||cc.game.run(A,_)})}cc.assetManager.loadScript(e.jsList.map(function(s){return"src/"+s}),E);for(var p=0;p<u.length;p++)cc.assetManager.loadBundle(u[p],E)},U=function(t){return new Promise(n=>{if(window.GAME_FLAG){cc.director.loadScene(t,()=>{t==="hello"&&cc.game.restart(),n()});return}function e(a,c){function l(){document.body.removeChild(o),o.removeEventListener("load",l,!1),c&&c()}var o=document.createElement("script");o.async=!0,o.src=a,o.addEventListener("load",l,!1),document.body.appendChild(o)}w===0&&!document.getElementById("Cocos2dGameContainer")?(w=1,e("./web-mobile/src/settings.js",function(){e("./web-mobile/main.js",function(){e("./web-mobile/cocos2d-js.js",function(){W(n,t)})})})):(cc.game.resume(),n())}).then(()=>new Promise(n=>{document.getElementById("gameRoot").style.display="block",F[t]();var e=new Event("resize",{bubbles:!0,cancelable:!0});window.dispatchEvent(e),n(),cc.game.resume()}))};const k={id:"gameRoot",className:"game1",style:{display:"none"}},Y=r("canvas",{id:"GameCanvas",tabIndex:0},null,-1),V=r("div",{id:"splash"},[r("div",{className:"progress-bar stripes"},[r("span",{style:{width:"0"}})])],-1),j=[Y,V],$=C({name:"index",setup(t){const n=h();return M(()=>{U("hello"),document.addEventListener("completeFromGame",e=>{e.detail.status===1?n.loginAnime=!1:n.loginAnime=!0})}),N(()=>{document.getElementById("gameRoot").style.display="none"}),(e,a)=>(S(),I("div",k,j))}});const z={class:"login-root"},H={class:"login-page-wrap"},q=L(" \u5F00\u59CB\u5427 "),X={name:"index",setup(t){const n=h(),e=O(),{loginAnime:a}=T(n);function c(){e.replace("/login")}return(l,o)=>{const g=$,_=P;return S(),I("div",z,[R(g),r("div",H,[r("div",{class:b(["anime",B(a)?"logo-big":"logo-small"])},null,2),R(_,{class:b([B(a)?"show":"hide","anime-btn loginBtn"]),type:"warning",round:"",onClick:c},{default:x(()=>[q]),_:1},8,["class"])])])}}};export{X as default};
